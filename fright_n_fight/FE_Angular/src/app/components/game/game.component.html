<div class="container-fluid text-center">
  <div class="row">
  
      <div class="col-12 col-md-8 offset-md-2 border border-top-0 border-bottom-0">
          <div *ngIf="this.start; then thenBlock else elseBlock"></div>
                  <!--    MACRO-SEZIONE GIOCO     -->
          <ng-template #thenBlock>
                  <!-- sezione titolo e timer     -->
              <div class="row">
                  <div class="col-6">
                      <h2 *ngIf="this.finish">{{movieDetails?.title}}</h2>
                  </div>
                  <div class="col-6">
                      <h2 *ngIf="!this.finish" >{{minutes}}:{{seconds}}</h2>
                      <h2 *ngIf="this.win"> Hai vinto! {{points}}pt. </h2>
                      <h2 *ngIf="!this.win && this.finish">Hai perso! {{points}}pt.</h2>
                  </div>
              </div>
 
              <div class="row">
                 
                  <div class="col-6 align-self-center">
                     
                     
                     <dl class="row">
                      <dt class="col-sm-4">Data di Uscita:</dt>
                      <dd class="col-sm-8" ><p>{{movieDetails?.release_date}}</p></dd> 
                      
                      <dt class="col-sm-4">Genere:</dt>
                      <dd class="col-sm-8"><p *ngFor="let genere of genres">{{genere?.name}}</p></dd>   

                      <dt class="col-sm-4">Budget:</dt>
                      <dd class="col-sm-8" >
                        <button (click)="onClickShowBudget()">Mostra</button> 
                          <h2 [(ngModel)]="onClickShowBudget" [hidden]="!showBudget">{{movieDetails?.budget}}</h2>
                      </dd>
                      
                      <dt class="col-sm-4">Popolarit√†:</dt>
                      <dd class="col-sm-8" >
                        <button (click)="onClickShowPopularity()">Mostra</button> 
                          <h2 [(ngModel)]="onClickShowPopularity" [hidden]="!showPopularity">{{movieDetails?.popularity}}</h2>
                      </dd>

                      <dt class="col-sm-4">Voto medio critica:</dt>
                      <dd class="col-sm-8" >
                        <button (click)="onClickShowVote()">Mostra</button> 
                          <h2 [(ngModel)]="onClickShowVote" [hidden]="!showVote">{{movieDetails?.vote_average}}</h2>
                      </dd>

                      <dt class="col-sm-4">TagLine:</dt>
                      <dd class="col-sm-8" >
                        <button (click)="onClickShowTagLine()">Mostra</button> 
                          <h2 [(ngModel)]="onClickShowTagLine" [hidden]="!showTagLine">{{movieDetails?.tagline}}</h2>
                      </dd>
                    </dl>
                  </div>
              </div>
                  <!--    MACRO-SEZIONE INDOVINA/RIGIOCA/SALVA-->
               <div *ngIf="this.finish; then conclusionBlock else guessingBlock"></div>

                  <!--    sezione dedicata ad inserimento titolo       -->
              <ng-template #guessingBlock>
              <form  #guessForm="ngForm" (submit)="guess(guessForm)">
                  <div class="mb-3">
                    <label for="guessTitle" class="form-label">Titolo:</label>
                    <input [ngModel] name="guessTitle" type="text" class="form-control" id="guessTitle" aria-describedby="guess">
                    <div id="guess" class="form-text">Concentrati e cerca di indovinare prima che il tempo scada. Hai tutti i tentativi che desideri!</div>
                  </div>
                  <button type="submit" class="btn btn-primary">Indovina</button>
              </form>
              </ng-template>
                   <!-- sezione dedicata rigioca salva-->
              <ng-template #conclusionBlock>
                  <button  type="button" class="btn btn-primary me-1" >Rigioca</button>
                  <button  type="button" class="btn btn-primary me-1" >Salva Film</button>
              </ng-template>
              

          </ng-template>
                  <!--   MACRO-SESSIONE PREGIOCO    sezione del pulsante di inizio       -->
          <ng-template #elseBlock>
              <div class="text-center"> 
              <button (click)="onStart()" type="button" class="btn btn-primary">Inizia</button></div>
          </ng-template>
      </div> 
  </div>
</div>